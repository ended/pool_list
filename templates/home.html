{% extends "base.html" %}
{% block body %}


<div class="container">
  <div class="row page-header">
    <div class="col-sm-3">
      <div class="panel panel-default">
        <div class="panel-body text-center">
          <small>Network Hashrate</small>
          <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right"
                       title=""></i>
                     <br><h4><p><span>{{ nethash }}</span></p></h4>
        </div>
      </div>
    </div>
    <div class="col-sm-3">
      <div class="panel panel-default">
        <div class="panel-body text-center">
          <small>Network Difficulty</small>
          <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right"
                       title=""></i>
                     <br><h4><p><span>{{ netdiff }}</span></p></h4>
        </div>
      </div>
    </div>
    <div class="col-sm-3">
      <div class="panel panel-default">
        <div class="panel-body text-center">
          <small>Network Height</small>
          <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right"
                       title="The last block solved on the network"></i>
            <br><h4><p><span>{{ netheight }}</span></p></h4>
        </div>
      </div>
    </div>
    <div class="col-sm-3">
      <div class="panel panel-default">
        <div class="panel-body text-center">
          <small>Total Worker Count</small>
          <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right"
                       title="The number of workers that we know about in the pools listed below"></i>
                     <br><h4><p><span>{{ total_workers }}</span></p></h4>
        </div>
      </div>
    </div>
  </div>
</div>

<h2>Network Breakdown</h2>
<div id="chart2">
  <svg></svg>
</div>

<script>
//Pie chart example data. Note how there is only a single array of key-value pairs.
function networkData() {
  return  {{ top_pools | tojson }};
}
$(document).ready(function() {
  $("#poolTable").tablesorter({
    headers: {
      1: { sorter: false }
    },
    sortList : [[ 5,1 ]], // hashrate default
    textExtraction: function(node) {
      var attr = $(node).attr('data-sort-value');
      if (typeof attr !== 'undefined' && attr !== false) {
        return attr;
      }
      return $(node).text(); 
    } 
  });
});
</script>
<br />
<div class="col-lg-12">
  <div class="bs-example table-responsive">
    <table id="poolTable" class="table table-striped table-hover tablesorter">
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Payout Type</th>
          <th>Workers</th>
          <th>Fee</th>
          <th>Hashrate</th>
          <th>Average Worker</th>
        </tr>
      </thead>
      <tbody>
      {% for pool in pools %}
        <tr>
          <td>{{ loop.index }}</td>
          <td><a href="/pool/{{ pool.id }}">{{ pool.name }}</a><small><a href="{{ pool.link }}">
            <i class="fa fa-external-link" data-toggle="tooltip" data-placement="right"
                       title=""></i></a></small></td>
          <td>{{ pool.output_payout_type }}</td>
          <td>{{ pool.last_workers }}</td>
          <td>{{ pool.output_fee }}</td>
          <td data-sort-value="{{ pool.last_hashrate }}">{{ pool.last_hashrate }} MH/s</td>
          <td data-sort-value="{{ pool.average_worker }}">{{ pool.average_worker }} KH/s/worker</td>
          <td></td>
          <td></td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
Pool missing? Message <a href="http://www.reddit.com/user/bitbumper">/u/bitbumper</a> on Reddit with API details and I'll get it added.
{% endblock %}
